language: python

env:
  - secure: "mEsV4L2jxO3bophVyNtI//1X725RKGRbUPU+mMFXXYfrNe+O0ypzhg7Vs5S/c1NPPyZmtTgZUM9Hupu1CUCs87h3WJXVt6u/aECRADzzKqtr4TwbByG7q05DmgYWfGwoGYbxS9FIb/M8H1u/RxChmJf4djHz852yxiSon96tcwzqbzNSSjRmqTObC0RIZsPNizr8G96rF0v7W49BZxza1x8HXpSoC6Wlv1Gp8WeuHStyzCNEtzmHWyNbpVFLJKj+2FsxF5yCjgA5tojciathyb8FfLqkLn7aqdXQI9EebmFPz041ARcmGzVtehwx9qqSqzXtj1gCQIu2MOFSKk9K8PlTB8mJBRMhilVapfR+BKC/EjMWG9tEc1S89psEgooe2I0mmfJRu+wKpFRU9HoalrigtIBj0XgGksBjuABAYYNIbuJIOzv6UbaYbODe5KId5sbhZBRdelLHBfJGB7fshP4NGRaYz3Egn2I0rYUeI7UPEI19UxRUtfIp+5Je3Y7CJwXiY2zvabsgOrXXkMt85XvV4o2FidAxcqxcEuxz/zP8QfIBzZdaNzVS41iykmRrDu9Jrj0kMjxhGRha0SCKrZ+Z6QoKY8WPIlgsb/6k388e7iCr2vziqiDHGe7ohmevBgC/hB/qUaVKWu6ruiu5oKi7h/iYmv36szirGXm6Qls="

python:
  - "2.7"
  - "3.5"
  - "3.6"

before_install:
  - pip install --upgrade pip
  - pip install --upgrade wheel
  - wget http://bit.ly/miniconda -O miniconda.sh
  - bash miniconda.sh -b -p $HOME/miniconda
  - export PATH="$HOME/miniconda/bin:$PATH"
  - hash -r
  - conda config --set always_yes yes --set show_channel_urls true
  - conda update conda
  - conda config --add channels conda-forge --force
  - conda create --quiet --name TESTENV python=$TRAVIS_PYTHON_VERSION --file requirements.txt --file requirements-dev.txt
  - source activate TESTENV
  - conda info --all
  - conda list

install:
  - pip install .
  - pip show osmnx

script:
  - coverage run --source osmnx -m pytest --verbose

after_success:
  - coverage report -m
  - coveralls
