"""
OSMnx tests
-----------
"""

import matplotlib as mpl
mpl.use('Agg') #use agg backend so you don't need a display on travis-ci

import os, shutil, bz2, tempfile
if os.path.exists('.temp'):
    shutil.rmtree('.temp')

import osmnx as ox, logging as lg
ox.config(log_console=True, log_file=True, use_cache=True,
          data_folder='.temp/data', logs_folder='.temp/logs', imgs_folder='.temp/imgs', cache_folder='.temp/cache')

ox.log('test debug', level=lg.DEBUG)
ox.log('test info', level=lg.INFO)
ox.log('test warning', level=lg.WARNING)
ox.log('test error', level=lg.ERROR)

import httmock, urllib.parse

    
NOMINATIM_Searches = {
    'Piedmont, California, USA': '''[{"place_id":"178814749","licence":"Data © OpenStreetMap contributors, ODbL 1.0. http:\/\/www.openstreetmap.org\/copyright","osm_type":"relation","osm_id":"2999176","boundingbox":["37.812276","37.833026","-122.249374","-122.210148"],"lat":"37.8243715","lon":"-122.231635","display_name":"Piedmont, Alameda County, California, 94611, United States of America","class":"boundary","type":"administrative","importance":0.64428297298811,"icon":"https:\/\/nominatim.openstreetmap.org\/images\/mapicons\/poi_boundary_administrative.p.20.png","geojson":{"type":"Polygon","coordinates":[[[-122.249374,37.823649],[-122.248859,37.82339],[-122.248953,37.8233],[-122.249336,37.822939],[-122.248041,37.82201],[-122.247468,37.821599],[-122.247414,37.821552],[-122.247267,37.821424],[-122.246667,37.820899],[-122.246468,37.820725],[-122.246395,37.820602],[-122.246322,37.820499],[-122.246123,37.820215],[-122.245992,37.820079],[-122.245841,37.819942],[-122.245788,37.819901],[-122.245753,37.819874],[-122.245688,37.819831],[-122.245643,37.819813],[-122.245604,37.81981],[-122.245579,37.819819],[-122.245554,37.819838],[-122.245378,37.819722],[-122.244851,37.819377],[-122.244676,37.819262],[-122.244578,37.819215],[-122.244554,37.819203],[-122.244287,37.819074],[-122.244191,37.819027],[-122.244022,37.818972],[-122.243518,37.818807],[-122.243351,37.818753],[-122.2431735,37.8187221],[-122.2432,37.818712],[-122.242747,37.818592],[-122.242596,37.818552],[-122.242198,37.81846],[-122.241007,37.818187],[-122.24061,37.818096],[-122.24035,37.818045],[-122.23957,37.817892],[-122.23931,37.817841],[-122.238966,37.817756],[-122.237934,37.817503],[-122.237591,37.817419],[-122.237361,37.817399],[-122.236673,37.817341],[-122.236444,37.817322],[-122.236208,37.817277],[-122.2355,37.817143],[-122.235265,37.817099],[-122.235139,37.817064],[-122.234761,37.816961],[-122.234635,37.816927],[-122.234363,37.81685],[-122.2341225,37.8167768],[-122.233549,37.816621],[-122.233278,37.816545],[-122.233067,37.816476],[-122.232438,37.81627],[-122.232228,37.816202],[-122.231504,37.816054],[-122.229332,37.815613],[-122.2289513,37.8155298],[-122.228609,37.815466],[-122.227934,37.815313],[-122.225912,37.814855],[-122.225238,37.814703],[-122.2250842,37.8146599],[-122.224992,37.814632],[-122.224256,37.81442],[-122.224011,37.81435],[-122.223735,37.814286],[-122.22291,37.814097],[-122.222635,37.814034],[-122.222336,37.813986],[-122.221439,37.813845],[-122.221141,37.813798],[-122.2210062,37.8137476],[-122.220944,37.813744],[-122.220355,37.813583],[-122.220159,37.81353],[-122.2196935,37.8134296],[-122.21967,37.813421],[-122.2182949,37.8131104],[-122.218206,37.813096],[-122.217718,37.812988],[-122.2175523,37.8129548],[-122.217478,37.812945],[-122.2171962,37.812898],[-122.21676,37.812818],[-122.216521,37.812776],[-122.21625,37.812677],[-122.216164,37.812646],[-122.215945,37.812543],[-122.215445,37.81237],[-122.215174,37.812276],[-122.215134,37.812347],[-122.215111,37.812381],[-122.215021,37.81252],[-122.214993,37.812554],[-122.214882,37.812668],[-122.214857,37.812695],[-122.214791,37.812749],[-122.214645,37.812892],[-122.21459,37.812934],[-122.214476,37.813024],[-122.214354,37.813107],[-122.214237,37.813201],[-122.214086,37.813336],[-122.214044,37.813383],[-122.214015,37.813423],[-122.213978,37.813473],[-122.213959,37.813499],[-122.213901,37.813591],[-122.213863,37.813669],[-122.213847,37.813712],[-122.213802,37.813822],[-122.213728,37.813968],[-122.213673,37.814058],[-122.213623,37.814122],[-122.21319,37.814636],[-122.213108,37.814772],[-122.213104,37.814779],[-122.213054,37.814913],[-122.213017,37.81506],[-122.212988,37.815202],[-122.21291,37.815812],[-122.212848,37.816077],[-122.2128,37.816227],[-122.212731,37.816384],[-122.212596,37.816646],[-122.21248,37.81683],[-122.212327,37.81704],[-122.212129,37.817268],[-122.211929,37.817457],[-122.21161,37.817707],[-122.211212,37.817981],[-122.210724,37.81832],[-122.210148,37.818728],[-122.21041,37.818866],[-122.211195,37.81928],[-122.211458,37.819419],[-122.211627,37.819512],[-122.212135,37.819791],[-122.212305,37.819885],[-122.212719,37.8201173],[-122.212732,37.820141],[-122.214013,37.820911],[-122.21444,37.821168],[-122.214649,37.821281],[-122.215278,37.82162],[-122.215488,37.821734],[-122.215615,37.821861],[-122.2157672,37.8220028],[-122.215999,37.822242],[-122.216127,37.82237],[-122.216144,37.822425],[-122.216172,37.822487],[-122.216185,37.822514],[-122.216302,37.822604],[-122.216473,37.822671],[-122.216491,37.822673],[-122.216617,37.822692],[-122.216714,37.822742],[-122.216911,37.822845],[-122.217006,37.822895],[-122.217104,37.822946],[-122.2172545,37.8230185],[-122.217381,37.823067],[-122.218212,37.823432],[-122.218489,37.823554],[-122.218785,37.823788],[-122.219061,37.824006],[-122.2193598,37.8242424],[-122.2194664,37.8243268],[-122.220777,37.825364],[-122.221349,37.825817],[-122.221499,37.826102],[-122.2215874,37.8262758],[-122.2216251,37.8263302],[-122.221949,37.82696],[-122.2221,37.827246],[-122.222151,37.827319],[-122.2222597,37.8274239],[-122.222307,37.827539],[-122.222359,37.827613],[-122.222591,37.827884],[-122.222666,37.827972],[-122.222741,37.828059],[-122.222798,37.828126],[-122.223721,37.829206],[-122.224083,37.829695],[-122.224486,37.830239],[-122.224594,37.83044],[-122.224919,37.831046],[-122.225028,37.831249],[-122.225178,37.83133],[-122.225631,37.831573],[-122.2256897,37.8316049],[-122.225782,37.831655],[-122.225871,37.831703],[-122.226139,37.831847],[-122.226229,37.831895],[-122.22628,37.831929],[-122.226392,37.831977],[-122.226408,37.831982],[-122.22646,37.832],[-122.226752,37.832029],[-122.22682,37.832052],[-122.226873,37.832079],[-122.226919,37.832109],[-122.226962,37.832148],[-122.226966,37.832155],[-122.227016,37.832247],[-122.227054,37.832335],[-122.227258,37.832473],[-122.227873,37.832887],[-122.228079,37.833026],[-122.229317,37.832642],[-122.2302181,37.8323633],[-122.230566,37.8322557],[-122.232279,37.831726],[-122.233055,37.831582],[-122.234331,37.831348],[-122.23458,37.831302],[-122.23533,37.831163],[-122.235581,37.831118],[-122.235855,37.831072],[-122.236059,37.831038],[-122.236656,37.830846],[-122.236921,37.830761],[-122.236966,37.830786],[-122.237048,37.830823],[-122.237151,37.830842],[-122.237251,37.830836],[-122.237299,37.830817],[-122.237327,37.830807],[-122.237552,37.830696],[-122.237723,37.830656],[-122.237892,37.830623],[-122.238227,37.830596],[-122.238456,37.830581],[-122.238596,37.830572],[-122.238852,37.830537],[-122.239064,37.830503],[-122.239668,37.830479],[-122.239748,37.830478],[-122.240781,37.830466],[-122.240935,37.830458],[-122.241087,37.830439],[-122.241229,37.830406],[-122.242351,37.830107],[-122.242402,37.830094],[-122.242715,37.830021],[-122.242825,37.830009],[-122.242915,37.830007],[-122.243025,37.830012],[-122.243288,37.830063],[-122.243293,37.830068],[-122.243311,37.830083],[-122.243317,37.830088],[-122.243348,37.830048],[-122.243557,37.829776],[-122.244279,37.828839],[-122.2444357,37.8286569],[-122.244367,37.8285009],[-122.24426,37.828317],[-122.244292,37.828293],[-122.244417,37.828205],[-122.244548,37.828135],[-122.244638,37.828089],[-122.244805,37.827978],[-122.245308,37.827648],[-122.245476,37.827538],[-122.245907,37.827263],[-122.245945,37.827239],[-122.247236,37.826496],[-122.24768,37.826241],[-122.247748,37.826034],[-122.247953,37.825417],[-122.248022,37.825211],[-122.24804,37.825131],[-122.248098,37.824894],[-122.248118,37.824815],[-122.248324,37.824632],[-122.248373,37.824586],[-122.249123,37.823883],[-122.249374,37.823649]]]}}]''',
    '398 N. Sicily Pl., Chandler, Arizona': '''[{"place_id":"62353700","licence":"Data © OpenStreetMap contributors, ODbL 1.0. http:\/\/www.openstreetmap.org\/copyright","osm_type":"way","osm_id":"5677294","boundingbox":["33.3086775","33.3095872","-111.9010844","-111.9008805"],"lat":"33.3091353","lon":"-111.9010779","display_name":"North Sicily Place, Chandler, Maricopa County, Arizona, 85226, United States of America","class":"highway","type":"residential","importance":0.62}]''',
    'San Francisco, California, USA': '''[{"place_id":"179327684","licence":"Data © OpenStreetMap contributors, ODbL 1.0. http:\/\/www.openstreetmap.org\/copyright","osm_type":"relation","osm_id":"396487","boundingbox":["37.6403143","37.9298443","-123.173825","-122.28178"],"lat":"37.7647993","lon":"-122.4629897","display_name":"SF, California, United States of America","class":"boundary","type":"administrative","importance":0.79836369596997,"icon":"https:\/\/nominatim.openstreetmap.org\/images\/mapicons\/poi_boundary_administrative.p.20.png"}]''',
    '350 5th Ave, New York, NY': '''[{"place_id":"127429130","licence":"Data © OpenStreetMap contributors, ODbL 1.0. http:\/\/www.openstreetmap.org\/copyright","osm_type":"way","osm_id":"248236277","boundingbox":["40.6717833","40.6725822","-73.9852274","-73.9840533"],"lat":"40.67218135","lon":"-73.9844516483024","display_name":"350, 5th Avenue, Park Slope, BK, Kings County, NYC, New York, 11215, United States of America","class":"building","type":"yes","importance":0.611}]''',
    'Manhattan, New York City, New York, USA': '''[{"place_id":"2909371","licence":"Data © OpenStreetMap contributors, ODbL 1.0. http:\/\/www.openstreetmap.org\/copyright","osm_type":"node","osm_id":"357644127","boundingbox":["40.7702778","40.8102778","-73.9797222","-73.9397222"],"lat":"40.7902778","lon":"-73.9597222","display_name":"Manhattan, NYC, New York, 83, United States of America","class":"place","type":"suburb","importance":1.2001419360935,"icon":"https:\/\/nominatim.openstreetmap.org\/images\/mapicons\/poi_place_village.p.20.png","geojson":{"type":"Point","coordinates":[-73.9597222,40.7902778]}}]''',
    'Los Altos, California, USA': '''[{"place_id":"178293854","licence":"Data © OpenStreetMap contributors, ODbL 1.0. http:\/\/www.openstreetmap.org\/copyright","osm_type":"relation","osm_id":"1545000","boundingbox":["37.3285006","37.406258","-122.129358","-122.0596397"],"lat":"37.3790629","lon":"-122.116578","display_name":"Los Altos, Santa Clara County, California, United States of America","class":"place","type":"city","importance":0.74383228506989,"icon":"https:\/\/nominatim.openstreetmap.org\/images\/mapicons\/poi_place_city.p.20.png","geojson":{"type":"Polygon","coordinates":[[[-122.129358,37.395502],[-122.129331,37.395392],[-122.129241,37.395282],[-122.129138,37.395238],[-122.128876,37.395199],[-122.128611,37.395086],[-122.128539,37.395056],[-122.12845,37.394985],[-122.128415,37.394864],[-122.128367,37.394584],[-122.128347,37.394545],[-122.128216,37.39449],[-122.12814,37.394479],[-122.128126,37.394496],[-122.127947,37.394529],[-122.127688,37.394523],[-122.127644,37.394523],[-122.127589,37.394479],[-122.127527,37.394358],[-122.127531,37.394274],[-122.127532,37.394234],[-122.127534,37.394193],[-122.127555,37.394119],[-122.127567,37.394082],[-122.127604,37.393957],[-122.127603,37.393939],[-122.127597,37.393792],[-122.127428,37.393548],[-122.127418,37.393534],[-122.12737,37.393413],[-122.12737,37.393248],[-122.127508,37.392985],[-122.127615,37.392851],[-122.127659,37.392798],[-122.128225,37.392254],[-122.128276,37.392177],[-122.128314,37.392122],[-122.128301,37.392023],[-122.127991,37.391743],[-122.127805,37.391688],[-122.127681,37.391677],[-122.127632,37.391687],[-122.127454,37.391726],[-122.12733,37.391638],[-122.127268,37.391495],[-122.127253,37.391353],[-122.127234,37.391166],[-122.12719,37.39095],[-122.127165,37.390825],[-122.1272031,37.3906972],[-122.1269727,37.3903443],[-122.1267926,37.3901399],[-122.126768,37.389887],[-122.126787,37.38983],[-122.1268026,37.3895562],[-122.126612,37.389456],[-122.1263116,37.389361],[-122.1262211,37.3892538],[-122.1264134,37.3889597],[-122.1265546,37.3888499],[-122.1265657,37.3886598],[-122.1264205,37.3884546],[-122.1261584,37.3883464],[-122.1262035,37.388043],[-122.1259941,37.3876955],[-122.1252432,37.3866839],[-122.1248509,37.3861854],[-122.1244788,37.3854868],[-122.1243132,37.3852814],[-122.124106,37.3850464],[-122.1240652,37.3849064],[-122.124201,37.38458],[-122.12427,37.384359],[-122.124339,37.384145],[-122.124456,37.383942],[-122.124552,37.383838],[-122.124669,37.383761],[-122.124834,37.383717],[-122.124999,37.383684],[-122.125123,37.383651],[-122.125154,37.383646],[-122.125171,37.383634],[-122.125227,37.383629],[-122.125426,37.383579],[-122.125516,37.383513],[-122.125536,37.383489],[-122.125564,37.383458],[-122.125577,37.38337],[-122.125543,37.383299],[-122.125481,37.383194],[-122.125446,37.383123],[-122.125426,37.383024],[-122.125426,37.38298],[-122.125159,37.382958],[-122.124375,37.381465],[-122.124262,37.381571],[-122.124127,37.381554],[-122.123531,37.381484],[-122.123274,37.381395],[-122.123,37.3813],[-122.122871,37.381013],[-122.122853,37.380971],[-122.122773,37.380686],[-122.123351,37.380526],[-122.123654,37.380443],[-122.123654,37.380388],[-122.123647,37.380272],[-122.123626,37.380151],[-122.123557,37.380052],[-122.123495,37.379981],[-122.123371,37.37991],[-122.123199,37.379844],[-122.123195,37.379842],[-122.123096,37.379811],[-122.122972,37.379778],[-122.122807,37.379756],[-122.12271,37.379723],[-122.122628,37.379679],[-122.122552,37.37963],[-122.122338,37.379537],[-122.122263,37.37952],[-122.122125,37.37946],[-122.122001,37.379416],[-122.12187,37.379345],[-122.121822,37.379306],[-122.121774,37.379284],[-122.121649,37.379136],[-122.12158,37.379081],[-122.121505,37.379042],[-122.121381,37.379021],[-122.121222,37.379015],[-122.121002,37.379004],[-122.120897,37.378983],[-122.120837,37.378971],[-122.120706,37.378911],[-122.120472,37.37873],[-122.120403,37.378631],[-122.120327,37.378532],[-122.12024,37.3785],[-122.120529,37.378307],[-122.120592,37.378266],[-122.120473,37.378051],[-122.120393,37.377869],[-122.120392,37.377604],[-122.120477,37.37739],[-122.120486,37.377365],[-122.120614,37.377043],[-122.120487,37.377048],[-122.120106,37.377064],[-122.11998,37.37707],[-122.119963,37.377073],[-122.119915,37.377084],[-122.119899,37.377088],[-122.119892,37.377043],[-122.119899,37.376769],[-122.119878,37.376565],[-122.119814,37.376474],[-122.11974,37.376368],[-122.119726,37.376269],[-122.119726,37.376153],[-122.119671,37.376049],[-122.119643,37.375879],[-122.119671,37.37578],[-122.119726,37.375686],[-122.119836,37.375417],[-122.11985,37.375269],[-122.119836,37.375186],[-122.119801,37.375049],[-122.119794,37.374939],[-122.119723,37.374776],[-122.119711,37.374669],[-122.119709,37.374649],[-122.119723,37.37455],[-122.11975,37.374446],[-122.11973,37.374221],[-122.119743,37.374116],[-122.119725,37.374042],[-122.119928,37.373993],[-122.120536,37.373848],[-122.12074,37.3738],[-122.12062,37.37353],[-122.120542,37.373474],[-122.119591,37.372792],[-122.119274,37.372565],[-122.119358,37.372501],[-122.119611,37.372308],[-122.119696,37.372245],[-122.119991,37.371985],[-122.120067,37.37192],[-122.120432,37.37229],[-122.120765,37.37184],[-122.121,37.371525],[-122.121074,37.37144],[-122.121778,37.37013],[-122.121801,37.370088],[-122.122475,37.369541],[-122.1235,37.368856],[-122.12207,37.368774],[-122.121716,37.367608],[-122.121252,37.366078],[-122.12107,37.36612],[-122.120875,37.366159],[-122.12048,37.36624],[-122.12024,37.36628],[-122.11987,37.36632],[-122.119733,37.36632],[-122.11939,37.36632],[-122.11935,37.36633],[-122.119112,37.36633],[-122.11887,37.36633],[-122.11864,37.36632],[-122.1185,37.36629],[-122.118412,37.366251],[-122.11841,37.36625],[-122.11832,37.36618],[-122.11824,37.36609],[-122.118155,37.365988],[-122.11814,37.36597],[-122.117863,37.365717],[-122.1178,37.36566],[-122.11778,37.365648],[-122.117674,37.36554],[-122.117714,37.365609],[-122.117598,37.365538],[-122.11717,37.36528],[-122.117115,37.365244],[-122.116957,37.365142],[-122.116897,37.365103],[-122.116717,37.364987],[-122.116658,37.364949],[-122.116593,37.364907],[-122.11646,37.36482],[-122.116397,37.364786],[-122.11633,37.36475],[-122.11619,37.36488],[-122.116157,37.364917],[-122.115679,37.365459],[-122.11552,37.36564],[-122.1154572,37.3656086],[-122.11538,37.36557],[-122.115353,37.36556],[-122.114828,37.365381],[-122.114654,37.365322],[-122.114619,37.365313],[-122.114517,37.365288],[-122.114483,37.36528],[-122.11444,37.365269],[-122.11436,37.36525],[-122.114316,37.365228],[-122.114277,37.365209],[-122.11335,37.364765],[-122.11327,37.364748],[-122.11282,37.36431],[-122.112774,37.36435],[-122.112636,37.36447],[-122.112252,37.3646933],[-122.1121394,37.3646915],[-122.1118231,37.3644504],[-122.1114033,37.3639587],[-122.110721,37.3645184],[-122.110501,37.364486],[-122.110085,37.364449],[-122.109941,37.364441],[-122.109512,37.36442],[-122.109369,37.364413],[-122.109213,37.364308],[-122.108747,37.363993],[-122.108592,37.363888],[-122.10856,37.363919],[-122.10853,37.36395],[-122.108463,37.36401],[-122.10843,37.36404],[-122.108029,37.364361],[-122.10797,37.36441],[-122.10779,37.36456],[-122.10742,37.36487],[-122.106853,37.365357],[-122.10684,37.36537],[-122.10648,37.36571],[-122.10638,37.36581],[-122.106359,37.365831],[-122.106007,37.366205],[-122.10589,37.36633],[-122.10579,37.366288],[-122.10549,37.366162],[-122.10539,37.36612],[-122.105247,37.366063],[-122.104818,37.365892],[-122.104676,37.365836],[-122.10373,37.36511],[-122.103625,37.365027],[-122.10279,37.36437],[-122.10198,37.36376],[-122.10081,37.36286],[-122.100477,37.362598],[-122.10006,37.36227],[-122.099432,37.361784],[-122.099331,37.361705],[-122.099028,37.361471],[-122.098928,37.361393],[-122.099054,37.361215],[-122.099102,37.361146],[-122.099212,37.360992],[-122.099624,37.360408],[-122.099673,37.360341],[-122.099771,37.360146],[-122.099784,37.36012],[-122.099978,37.360255],[-122.100478,37.360601],[-122.100619,37.360472],[-122.100816,37.360293],[-122.101239,37.359906],[-122.101413,37.359749],[-122.10016,37.35895],[-122.099965,37.358826],[-122.099677,37.358643],[-122.099782,37.358557],[-122.100099,37.358299],[-122.100205,37.358214],[-122.100172,37.358181],[-122.100073,37.358082],[-122.10004,37.35805],[-122.099901,37.358164],[-122.099486,37.358509],[-122.09939,37.35859],[-122.099348,37.358624],[-122.099552,37.358758],[-122.099565,37.358767],[-122.099136,37.359048],[-122.098949,37.359095],[-122.098933,37.359098],[-122.098696,37.359159],[-122.098522,37.359297],[-122.09847,37.35934],[-122.09812,37.35963],[-122.098002,37.35971],[-122.09793,37.35976],[-122.09781,37.35982],[-122.097718,37.359692],[-122.09771,37.35968],[-122.09764,37.3596],[-122.09757,37.35956],[-122.09749,37.35957],[-122.097305,37.359608],[-122.09725,37.35962],[-122.09715,37.35962],[-122.097,37.35962],[-122.09693,37.35958],[-122.096573,37.359335],[-122.09601,37.35895],[-122.09525,37.35838],[-122.094969,37.358163],[-122.09477,37.35801],[-122.09446,37.35774],[-122.09425,37.35757],[-122.093115,37.356701],[-122.08972,37.3541],[-122.0891,37.35361],[-122.089077,37.353591],[-122.08824,37.35291],[-122.08817,37.35281],[-122.08817,37.35274],[-122.08814,37.35248],[-122.0881,37.35238],[-122.08805,37.35235],[-122.087595,37.352355],[-122.087583,37.352348],[-122.08758,37.35264],[-122.08746,37.35254],[-122.087167,37.352331],[-122.08701,37.35222],[-122.08673,37.35199],[-122.08615,37.35155],[-122.085943,37.351386],[-122.08562,37.35113],[-122.085538,37.351068],[-122.085541,37.351056],[-122.08563,37.350946],[-122.085685,37.350866],[-122.085734,37.350798],[-122.085871,37.35049],[-122.085912,37.350369],[-122.08596,37.350193],[-122.08596,37.350173],[-122.085961,37.350023],[-122.085944,37.349924],[-122.085933,37.349864],[-122.085898,37.349732],[-122.085901,37.349652],[-122.085905,37.349561],[-122.085967,37.34943],[-122.086015,37.349265],[-122.086002,37.348843],[-122.085995,37.348567],[-122.086311,37.348331],[-122.086368,37.348159],[-122.086428,37.347984],[-122.086497,37.347852],[-122.086627,37.347688],[-122.086799,37.347556],[-122.086965,37.347473],[-122.087171,37.347363],[-122.087288,37.347292],[-122.087439,37.347221],[-122.08757,37.347127],[-122.087594,37.347048],[-122.087598,37.347039],[-122.087577,37.346929],[-122.087563,37.346797],[-122.087577,37.346677],[-122.087639,37.346578],[-122.087691,37.346513],[-122.087728,37.346468],[-122.087754,37.346449],[-122.087824,37.346402],[-122.087962,37.346281],[-122.087963,37.346278],[-122.088013,37.346202],[-122.088058,37.346132],[-122.088141,37.346056],[-122.088299,37.345995],[-122.088839,37.345831],[-122.088843,37.34583],[-122.088932,37.345753],[-122.089022,37.345599],[-122.089125,37.345478],[-122.089262,37.345336],[-122.089359,37.345253],[-122.089434,37.345165],[-122.089552,37.345077],[-122.089717,37.344989],[-122.089882,37.344929],[-122.090075,37.344879],[-122.090219,37.344824],[-122.090364,37.344747],[-122.09048,37.344621],[-122.090591,37.344407],[-122.090639,37.344251],[-122.090726,37.343976],[-122.090742,37.343929],[-122.090936,37.343071],[-122.090967,37.342931],[-122.091062,37.34251],[-122.091094,37.342371],[-122.091136,37.342181],[-122.091147,37.342137],[-122.091216,37.341994],[-122.091278,37.341901],[-122.091388,37.341819],[-122.091414,37.341794],[-122.091481,37.341729],[-122.091608,37.34161],[-122.091622,37.341595],[-122.0916,37.34158],[-122.091239,37.34138],[-122.09104,37.34127],[-122.090053,37.340811],[-122.089656,37.340627],[-122.0896546,37.3406251],[-122.089382,37.3405],[-122.08908,37.34036],[-122.088576,37.340092],[-122.088311,37.339951],[-122.088177,37.340147],[-122.08817,37.340158],[-122.088008,37.340396],[-122.087872,37.340648],[-122.087804,37.340753],[-122.087677,37.340954],[-122.087656,37.340946],[-122.08764,37.34094],[-122.087598,37.340912],[-122.08758,37.3409],[-122.087454,37.340693],[-122.086576,37.340186],[-122.084567,37.339028],[-122.083395,37.338177],[-122.08238,37.33744],[-122.081095,37.336635],[-122.079292,37.335506],[-122.079312,37.33523],[-122.078,37.334442],[-122.077529,37.334677],[-122.0746146,37.3325873],[-122.0749273,37.3322507],[-122.0746374,37.332049],[-122.0744126,37.3320117],[-122.0742529,37.3320047],[-122.0741064,37.3320127],[-122.0739331,37.3320548],[-122.0737761,37.332133],[-122.073749,37.3321233],[-122.0697192,37.3297246],[-122.069445,37.3299088],[-122.0692542,37.3298983],[-122.0692,37.33086],[-122.069164,37.33114],[-122.06913,37.33141],[-122.069074,37.331748],[-122.06904,37.33196],[-122.068783,37.333115],[-122.06876,37.3331972],[-122.0680076,37.3331306],[-122.0681058,37.3326623],[-122.0686492,37.3327376],[-122.0687333,37.3324477],[-122.0681794,37.3323724],[-122.068246,37.3321717],[-122.0687368,37.3322414],[-122.0688034,37.3320296],[-122.0682671,37.3319794],[-122.0683372,37.3317453],[-122.0688735,37.3318233],[-122.0689577,37.331394],[-122.0684423,37.3313522],[-122.0684283,37.3314163],[-122.0672469,37.3312937],[-122.0672925,37.3307223],[-122.0635379,37.3304658],[-122.0625949,37.329833],[-122.0624337,37.3299222],[-122.0623565,37.3298553],[-122.0622654,37.3298749],[-122.0620761,37.3295905],[-122.0626791,37.3292923],[-122.0624862,37.3287264],[-122.0604004,37.3285006],[-122.0596397,37.3293619],[-122.060779,37.3300337],[-122.0609262,37.3307223],[-122.0614451,37.3304742],[-122.0615397,37.3306386],[-122.0610034,37.3309257],[-122.0611155,37.3311515],[-122.0616589,37.3307446],[-122.0618202,37.3308505],[-122.0612159,37.3314603],[-122.0612974,37.3315131],[-122.061737,37.3315645],[-122.0618421,37.331564],[-122.0620723,37.3315736],[-122.0621903,37.3316044],[-122.0623708,37.3317076],[-122.0624703,37.3317935],[-122.0625178,37.3318393],[-122.0627019,37.3320333],[-122.0628638,37.3321802],[-122.0630507,37.3323483],[-122.063079,37.3323821],[-122.0631987,37.3325171],[-122.0633041,37.3326091],[-122.0635131,37.3327568],[-122.0635592,37.332797],[-122.0636005,37.332834],[-122.0636789,37.3329035],[-122.0637064,37.3329414],[-122.0637256,37.3329824],[-122.0637366,37.3330693],[-122.0637324,37.3330968],[-122.0669121,37.3335501],[-122.0669594,37.3330846],[-122.0672802,37.3331097],[-122.0672399,37.3335627],[-122.0683442,37.333663],[-122.0679375,37.3354177],[-122.0680217,37.3354079],[-122.0684318,37.3338763],[-122.0685851,37.3338734],[-122.06853,37.33406],[-122.0685,37.33419],[-122.06848,37.334262],[-122.06846,37.33434],[-122.06843,37.33443],[-122.068418,37.334477],[-122.0684,37.33455],[-122.068366,37.334686],[-122.068268,37.335096],[-122.068236,37.335233],[-122.06822,37.3353],[-122.06821,37.335344],[-122.06815,37.33563],[-122.068147,37.335682],[-122.068142,37.335797],[-122.068072,37.335794],[-122.067997,37.335791],[-122.067974,37.335792],[-122.067881,37.335796],[-122.067865,37.335796],[-122.067797,37.335801],[-122.067351,37.335793],[-122.067132,37.335635],[-122.06593,37.334769],[-122.065268,37.334692],[-122.064558,37.33461],[-122.064129,37.334716],[-122.064783,37.334898],[-122.064777,37.33492],[-122.06476,37.334988],[-122.064755,37.335011],[-122.064863,37.335125],[-122.064916,37.335181],[-122.064987,37.335321],[-122.064991,37.335389],[-122.064828,37.335341],[-122.064808,37.335335],[-122.064694,37.335261],[-122.064684,37.335271],[-122.064655,37.335302],[-122.064646,37.335313],[-122.064715,37.335422],[-122.064691,37.335521],[-122.064613,37.335629],[-122.064516,37.3364473],[-122.0659879,37.3364473],[-122.0667768,37.3374917],[-122.06541,37.33751],[-122.065316,37.33751],[-122.06497,37.33751],[-122.0624131,37.3375411],[-122.062382,37.337596],[-122.062368,37.337654],[-122.062354,37.337717],[-122.06232,37.337942],[-122.062316,37.338005],[-122.062313,37.338069],[-122.062313,37.338124],[-122.062313,37.338212],[-122.062333,37.338305],[-122.062361,37.338393],[-122.062416,37.338475],[-122.062485,37.338541],[-122.062519,37.338585],[-122.062602,37.338668],[-122.062705,37.338855],[-122.062739,37.33925],[-122.062713,37.339389],[-122.062712,37.339398],[-122.062739,37.33953],[-122.062808,37.339635],[-122.062911,37.339701],[-122.063063,37.339767],[-122.063262,37.33986],[-122.063448,37.339992],[-122.063474,37.340027],[-122.063661,37.340283],[-122.064033,37.341135],[-122.064212,37.341349],[-122.064336,37.341459],[-122.064584,37.341635],[-122.064701,37.341723],[-122.065038,37.342656],[-122.065265,37.343283],[-122.065203,37.343723],[-122.065155,37.343882],[-122.065133,37.343998],[-122.065025,37.344207],[-122.064948,37.34436],[-122.064491,37.34464],[-122.064295,37.344761],[-122.064292,37.344765],[-122.064233,37.344854],[-122.064178,37.34503],[-122.064136,37.345184],[-122.064136,37.34553],[-122.064136,37.345942],[-122.064067,37.34603],[-122.063751,37.346821],[-122.06382,37.346964],[-122.064398,37.347299],[-122.064563,37.347371],[-122.06457,37.347373],[-122.064893,37.347492],[-122.065059,37.347558],[-122.065175,37.347657],[-122.065217,37.347772],[-122.065176,37.347854],[-122.06512,37.347922],[-122.065079,37.347975],[-122.065017,37.348041],[-122.064928,37.348217],[-122.064891,37.348398],[-122.064859,37.348558],[-122.064854,37.348575],[-122.064831,37.348657],[-122.064776,37.348788],[-122.064673,37.348904],[-122.064568,37.348992],[-122.064563,37.348997],[-122.06446,37.349052],[-122.064377,37.34914],[-122.064315,37.349239],[-122.064308,37.349365],[-122.064336,37.349635],[-122.063985,37.350316],[-122.063967,37.350344],[-122.063694,37.350786],[-122.063579,37.35097],[-122.063475,37.35114],[-122.063201,37.351498],[-122.063186,37.351519],[-122.063131,37.351607],[-122.063131,37.351695],[-122.063166,37.351772],[-122.063167,37.351773],[-122.063314,37.351989],[-122.063363,37.352061],[-122.063386,37.352096],[-122.063407,37.35212],[-122.063448,37.352168],[-122.063496,37.35225],[-122.063517,37.352332],[-122.063524,37.352453],[-122.063493,37.352602],[-122.063441,37.352865],[-122.063228,37.353085],[-122.063124,37.353173],[-122.063007,37.353244],[-122.062505,37.353437],[-122.062333,37.353508],[-122.062166,37.353622],[-122.061557,37.354068],[-122.0616485,37.3541348],[-122.0621089,37.3545053],[-122.0628574,37.3564297],[-122.063207,37.3581578],[-122.0633605,37.3595596],[-122.0639415,37.3595976],[-122.0657094,37.3595652],[-122.0656868,37.3578111],[-122.0656952,37.3567552],[-122.066741,37.35676],[-122.06677,37.35676],[-122.06781,37.35677],[-122.06818,37.356765],[-122.06866,37.35676],[-122.068664,37.356913],[-122.068676,37.357373],[-122.068747,37.3579727],[-122.07053,37.3579614],[-122.0704971,37.3590597],[-122.0775985,37.359116],[-122.0775517,37.3615573],[-122.07776,37.36175],[-122.0778288,37.364085],[-122.0778617,37.3662372],[-122.0805808,37.3662125],[-122.0805681,37.3668611],[-122.0822618,37.3668555],[-122.0822972,37.3664716],[-122.0866065,37.3664951],[-122.0892038,37.3664551],[-122.0892241,37.3668788],[-122.095977,37.3669633],[-122.09603,37.36722],[-122.096007,37.368656],[-122.096,37.36914],[-122.09599,37.369463],[-122.09599,37.36949],[-122.095975,37.370435],[-122.09597,37.37076],[-122.095967,37.370973],[-122.095976,37.376743],[-122.095373,37.37674],[-122.0931931,37.3767332],[-122.0932012,37.3795955],[-122.0958327,37.3796166],[-122.0958332,37.3813646],[-122.0935632,37.3813477],[-122.089132,37.3812989],[-122.088918,37.3813151],[-122.088994,37.381499],[-122.0892664,37.3817052],[-122.0895394,37.3818987],[-122.0899292,37.382211],[-122.0900574,37.3823719],[-122.090124,37.382581],[-122.090151,37.382867],[-122.090144,37.38295],[-122.090131,37.383132],[-122.090131,37.383136],[-122.090062,37.383405],[-122.0898805,37.3837037],[-122.0895179,37.3840379],[-122.0895235,37.3844125],[-122.0902812,37.3844005],[-122.090434,37.384061],[-122.0908063,37.3840754],[-122.0907951,37.3844291],[-122.09154,37.38444],[-122.092122,37.3844454],[-122.0921325,37.3840649],[-122.092472,37.3840486],[-122.0924893,37.3844454],[-122.093095,37.38444],[-122.095263,37.384441],[-122.0960795,37.3844845],[-122.0962158,37.3885096],[-122.1045935,37.3885878],[-122.1046404,37.388288],[-122.1059665,37.388288],[-122.1058407,37.3886093],[-122.1058169,37.3887584],[-122.1025412,37.3932096],[-122.1009828,37.3953159],[-122.1038957,37.3968187],[-122.1066438,37.398032],[-122.1104831,37.3998601],[-122.1128671,37.400982],[-122.113709,37.4014751],[-122.1151824,37.4023218],[-122.1166605,37.4035403],[-122.1175613,37.4041998],[-122.117924,37.404315],[-122.11805,37.40443],[-122.118144,37.404507],[-122.11822,37.40457],[-122.11841,37.40474],[-122.118495,37.404814],[-122.11864,37.40494],[-122.119235,37.405439],[-122.11932,37.40551],[-122.119337,37.405527],[-122.119598,37.405788],[-122.11969,37.40588],[-122.11979,37.40598],[-122.119963,37.406162],[-122.120053,37.406258],[-122.120134,37.406103],[-122.120334,37.405834],[-122.120416,37.405735],[-122.120554,37.405608],[-122.120671,37.405532],[-122.120905,37.405433],[-122.12092,37.405429],[-122.121139,37.405377],[-122.12125,37.405333],[-122.121442,37.405174],[-122.121614,37.40502],[-122.121766,37.404833],[-122.121896,37.404602],[-122.121972,37.404448],[-122.122034,37.404372],[-122.122137,37.404295],[-122.122385,37.404152],[-122.122543,37.404009],[-122.122667,37.40386],[-122.122798,37.403575],[-122.122867,37.40347],[-122.123032,37.403366],[-122.123115,37.403349],[-122.123218,37.403261],[-122.123417,37.402942],[-122.123437,37.402892],[-122.123527,37.402679],[-122.123678,37.402376],[-122.123857,37.402217],[-122.12405,37.401953],[-122.124107,37.401872],[-122.124188,37.401755],[-122.124192,37.401745],[-122.124339,37.401453],[-122.124415,37.401346],[-122.124504,37.401222],[-122.124672,37.400938],[-122.124964,37.400237],[-122.124978,37.400194],[-122.124964,37.400074],[-122.1249,37.399769],[-122.124868,37.399612],[-122.124868,37.399447],[-122.124936,37.399321],[-122.125205,37.399002],[-122.12528,37.398898],[-122.125322,37.398738],[-122.12537,37.398634],[-122.125418,37.39848],[-122.125494,37.398392],[-122.125624,37.398309],[-122.125776,37.398254],[-122.125893,37.398232],[-122.125975,37.398221],[-122.126071,37.39822],[-122.126209,37.398187],[-122.126367,37.398099],[-122.126719,37.397726],[-122.126864,37.39755],[-122.12697,37.39746],[-122.127139,37.397319],[-122.127312,37.397155],[-122.127656,37.396924],[-122.128063,37.396622],[-122.128092,37.39658],[-122.128221,37.396397],[-122.128228,37.396232],[-122.128104,37.39604],[-122.128098,37.395908],[-122.128125,37.395836],[-122.128194,37.395754],[-122.128298,37.395716],[-122.128463,37.395716],[-122.128614,37.395815],[-122.128621,37.395837],[-122.128731,37.395919],[-122.128807,37.396002],[-122.128896,37.396068],[-122.129076,37.396079],[-122.129186,37.396029],[-122.129268,37.395903],[-122.129344,37.395661],[-122.129358,37.395502]]]}}]''',
    'Loyola, California': '''[{"place_id":"78160867","licence":"Data © OpenStreetMap contributors, ODbL 1.0. http:\/\/www.openstreetmap.org\/copyright","osm_type":"way","osm_id":"33174165","boundingbox":["37.33143","37.36633","-122.11282","-122.085538"],"lat":"37.349054","lon":"-122.09677165029","display_name":"Loyola, Fairway Drive, Los Altos, Santa Clara County, California, CA 94024, United States of America","class":"boundary","type":"administrative","importance":0.50613333173007,"icon":"https:\/\/nominatim.openstreetmap.org\/images\/mapicons\/poi_boundary_administrative.p.20.png","geojson":{"type":"Polygon","coordinates":[[[-122.11282,37.36431],[-122.11268,37.36417],[-122.112546,37.363989],[-122.111795,37.362968],[-122.11173,37.36288],[-122.11153,37.36264],[-122.111461,37.362555],[-122.11144,37.36253],[-122.11128,37.36241],[-122.111198,37.362363],[-122.11114,37.36233],[-122.1111,37.36232],[-122.11078,37.3622],[-122.110724,37.362175],[-122.11055,37.3621],[-122.11035,37.362],[-122.10996,37.36179],[-122.109657,37.361613],[-122.10931,37.36141],[-122.1093,37.361409],[-122.109271,37.361387],[-122.10927,37.36139],[-122.10923,37.36136],[-122.109106,37.361284],[-122.10861,37.36098],[-122.108607,37.360978],[-122.10844,37.36088],[-122.108316,37.360814],[-122.10806,37.36068],[-122.107946,37.360615],[-122.107825,37.360546],[-122.107774,37.360517],[-122.10769,37.36047],[-122.107633,37.360418],[-122.10759,37.36038],[-122.107321,37.360161],[-122.10732,37.36016],[-122.106525,37.359492],[-122.10626,37.35927],[-122.106216,37.359231],[-122.106084,37.359117],[-122.10604,37.35908],[-122.10586,37.35893],[-122.10577,37.35883],[-122.105595,37.358671],[-122.10532,37.35842],[-122.10495,37.35806],[-122.10453,37.3577],[-122.10437,37.35759],[-122.104224,37.357487],[-122.1042,37.35747],[-122.10385,37.35723],[-122.10373,37.35714],[-122.103462,37.356939],[-122.10325,37.35678],[-122.10302,37.35659],[-122.10283,37.35644],[-122.102681,37.356309],[-122.102609,37.356246],[-122.10243,37.35609],[-122.102613,37.355935],[-122.10313,37.3555],[-122.103164,37.355471],[-122.10335,37.35532],[-122.103426,37.355262],[-122.10343,37.35526],[-122.103637,37.355079],[-122.10366,37.35506],[-122.10416,37.35472],[-122.104325,37.354622],[-122.10445,37.35455],[-122.104563,37.354483],[-122.104612,37.354452],[-122.104762,37.354363],[-122.104813,37.354334],[-122.104834,37.35432],[-122.104898,37.354282],[-122.10492,37.35427],[-122.105166,37.354121],[-122.10517,37.35412],[-122.105911,37.353685],[-122.10616,37.35354],[-122.106278,37.35348],[-122.106632,37.3533],[-122.10675,37.35324],[-122.10678,37.353224],[-122.106871,37.353179],[-122.106902,37.353164],[-122.107014,37.353107],[-122.10723,37.353],[-122.107348,37.352937],[-122.10746,37.35288],[-122.107552,37.352833],[-122.10756,37.35283],[-122.10779,37.35271],[-122.107825,37.352688],[-122.10784,37.35268],[-122.10791,37.35263],[-122.108109,37.352497],[-122.10845,37.35227],[-122.108714,37.352109],[-122.10892,37.351986],[-122.10903,37.35192],[-122.109091,37.351885],[-122.10954,37.35163],[-122.109602,37.35158],[-122.10973,37.35148],[-122.10975,37.35145],[-122.10982,37.35135],[-122.109924,37.351152],[-122.11001,37.35099],[-122.11032,37.35048],[-122.110467,37.350272],[-122.11049,37.35024],[-122.11063,37.3501],[-122.110719,37.35004],[-122.109863,37.34945],[-122.108875,37.350195],[-122.108816,37.350144],[-122.108115,37.349548],[-122.106089,37.347823],[-122.105822,37.34806],[-122.103947,37.346433],[-122.104481,37.346078],[-122.104654,37.345964],[-122.10444,37.345755],[-122.104115,37.345438],[-122.103979,37.345307],[-122.103116,37.344465],[-122.103107,37.344468],[-122.100748,37.3463],[-122.100692,37.346268],[-122.100527,37.346175],[-122.100472,37.346144],[-122.100516,37.345988],[-122.100173,37.345541],[-122.099773,37.344849],[-122.099279,37.345149],[-122.099097,37.344896],[-122.09909,37.344884],[-122.098904,37.344884],[-122.098469,37.344242],[-122.098966,37.343931],[-122.099194,37.343786],[-122.101073,37.342141],[-122.101424,37.341862],[-122.101471,37.342032],[-122.102084,37.341126],[-122.102084,37.341125],[-122.102191,37.340982],[-122.102986,37.339964],[-122.102909,37.339895],[-122.103018,37.339781],[-122.103095,37.339836],[-122.10362,37.339636],[-122.10349,37.339576],[-122.1031,37.339399],[-122.10297,37.33934],[-122.102735,37.339581],[-122.102029,37.340306],[-122.101795,37.340548],[-122.10179,37.34052],[-122.101721,37.340226],[-122.10172,37.34022],[-122.10171,37.34013],[-122.101517,37.339593],[-122.10144,37.33956],[-122.10138,37.33951],[-122.101232,37.339446],[-122.10117,37.33942],[-122.10092,37.33934],[-122.10094,37.33911],[-122.10097,37.33849],[-122.10095,37.33788],[-122.10094,37.33778],[-122.10093,37.3376],[-122.1009,37.3375],[-122.10077,37.33724],[-122.10058,37.33692],[-122.10047,37.33676],[-122.100462,37.336752],[-122.10036,37.33666],[-122.10025,37.33659],[-122.09988,37.33646],[-122.0995,37.33632],[-122.09933,37.33623],[-122.09897,37.336],[-122.09872,37.33582],[-122.09862,37.33572],[-122.09854,37.33561],[-122.09844,37.3354],[-122.09839,37.33515],[-122.0984,37.33506],[-122.09841,37.33504],[-122.09844,37.33497],[-122.0986,37.33475],[-122.09873,37.33447],[-122.09878,37.33433],[-122.09879,37.33421],[-122.09878,37.33411],[-122.09873,37.33403],[-122.09864,37.33394],[-122.09842,37.3338],[-122.098,37.3335],[-122.09775,37.33338],[-122.09759,37.33333],[-122.09743,37.33332],[-122.09725,37.33334],[-122.09706,37.33335],[-122.09692,37.33333],[-122.09681,37.33329],[-122.09663,37.33316],[-122.09633,37.33281],[-122.09616,37.33258],[-122.09605,37.3324],[-122.09603,37.33232],[-122.09603,37.33226],[-122.09606,37.33222],[-122.09618,37.33214],[-122.09638,37.33198],[-122.09655,37.33182],[-122.096554,37.331815],[-122.09669,37.3317],[-122.096959,37.331559],[-122.09709,37.33149],[-122.09705,37.33143],[-122.096996,37.331435],[-122.09674,37.33146],[-122.096586,37.331564],[-122.09649,37.33163],[-122.096352,37.331705],[-122.09612,37.33183],[-122.095918,37.331942],[-122.09576,37.33203],[-122.09525,37.332277],[-122.0951,37.33235],[-122.095001,37.332423],[-122.094398,37.332869],[-122.094182,37.333028],[-122.094157,37.333045],[-122.09363,37.33344],[-122.09339,37.33361],[-122.0933,37.33373],[-122.09327,37.33389],[-122.0932,37.33419],[-122.09309,37.33459],[-122.09307,37.33473],[-122.09305,37.33502],[-122.093,37.33516],[-122.09291,37.33535],[-122.09287,37.3355],[-122.09282,37.33562],[-122.09275,37.3357],[-122.0926,37.33577],[-122.091951,37.335967],[-122.09178,37.33602],[-122.09167,37.33602],[-122.09155,37.33598],[-122.09145,37.33591],[-122.0914,37.33595],[-122.09134,37.33596],[-122.09119,37.33596],[-122.09093,37.33588],[-122.09098,37.33599],[-122.091,37.33605],[-122.09098,37.336116],[-122.091262,37.336368],[-122.091379,37.336527],[-122.091458,37.336624],[-122.091469,37.336637],[-122.091586,37.336797],[-122.09171,37.336956],[-122.09182,37.33706],[-122.092026,37.337132],[-122.092315,37.337209],[-122.092591,37.337258],[-122.092756,37.337401],[-122.092811,37.337522],[-122.092845,37.337659],[-122.092813,37.337903],[-122.092722,37.338599],[-122.092536,37.338923],[-122.092426,37.339],[-122.09233,37.339088],[-122.092317,37.339138],[-122.092151,37.339818],[-122.092213,37.339912],[-122.092309,37.339972],[-122.092337,37.340099],[-122.09233,37.340165],[-122.092282,37.34022],[-122.092165,37.34034],[-122.092124,37.340412],[-122.092007,37.34056],[-122.091945,37.340687],[-122.091896,37.340979],[-122.091856,37.341225],[-122.091787,37.341352],[-122.091711,37.341505],[-122.091622,37.341595],[-122.091608,37.34161],[-122.091481,37.341729],[-122.091414,37.341794],[-122.091388,37.341819],[-122.091278,37.341901],[-122.091216,37.341994],[-122.091147,37.342137],[-122.091136,37.342181],[-122.091094,37.342371],[-122.091062,37.34251],[-122.090967,37.342931],[-122.090936,37.343071],[-122.090742,37.343929],[-122.090726,37.343976],[-122.090639,37.344251],[-122.090591,37.344407],[-122.09048,37.344621],[-122.090364,37.344747],[-122.090219,37.344824],[-122.090075,37.344879],[-122.089882,37.344929],[-122.089717,37.344989],[-122.089552,37.345077],[-122.089434,37.345165],[-122.089359,37.345253],[-122.089262,37.345336],[-122.089125,37.345478],[-122.089022,37.345599],[-122.088932,37.345753],[-122.088843,37.34583],[-122.088839,37.345831],[-122.088299,37.345995],[-122.088141,37.346056],[-122.088058,37.346132],[-122.088013,37.346202],[-122.087963,37.346278],[-122.087962,37.346281],[-122.087824,37.346402],[-122.087754,37.346449],[-122.087728,37.346468],[-122.087691,37.346513],[-122.087639,37.346578],[-122.087577,37.346677],[-122.087563,37.346797],[-122.087577,37.346929],[-122.087598,37.347039],[-122.087594,37.347048],[-122.08757,37.347127],[-122.087439,37.347221],[-122.087288,37.347292],[-122.087171,37.347363],[-122.086965,37.347473],[-122.086799,37.347556],[-122.086627,37.347688],[-122.086497,37.347852],[-122.086428,37.347984],[-122.086368,37.348159],[-122.086311,37.348331],[-122.085995,37.348567],[-122.086002,37.348843],[-122.086015,37.349265],[-122.085967,37.34943],[-122.085905,37.349561],[-122.085901,37.349652],[-122.085898,37.349732],[-122.085933,37.349864],[-122.085944,37.349924],[-122.085961,37.350023],[-122.08596,37.350173],[-122.08596,37.350193],[-122.085912,37.350369],[-122.085871,37.35049],[-122.085734,37.350798],[-122.085685,37.350866],[-122.08563,37.350946],[-122.085541,37.351056],[-122.085538,37.351068],[-122.08562,37.35113],[-122.085943,37.351386],[-122.08615,37.35155],[-122.08673,37.35199],[-122.08701,37.35222],[-122.087167,37.352331],[-122.08746,37.35254],[-122.08758,37.35264],[-122.087583,37.352348],[-122.087595,37.352355],[-122.08805,37.35235],[-122.0881,37.35238],[-122.08814,37.35248],[-122.08817,37.35274],[-122.08817,37.35281],[-122.08824,37.35291],[-122.089077,37.353591],[-122.0891,37.35361],[-122.08972,37.3541],[-122.093115,37.356701],[-122.09425,37.35757],[-122.09446,37.35774],[-122.09477,37.35801],[-122.094969,37.358163],[-122.09525,37.35838],[-122.09601,37.35895],[-122.096573,37.359335],[-122.09693,37.35958],[-122.097,37.35962],[-122.09715,37.35962],[-122.09725,37.35962],[-122.097305,37.359608],[-122.09749,37.35957],[-122.09757,37.35956],[-122.09764,37.3596],[-122.09771,37.35968],[-122.097718,37.359692],[-122.09781,37.35982],[-122.09793,37.35976],[-122.098002,37.35971],[-122.09812,37.35963],[-122.09847,37.35934],[-122.098522,37.359297],[-122.098696,37.359159],[-122.098933,37.359098],[-122.098949,37.359095],[-122.099136,37.359048],[-122.099565,37.358767],[-122.099552,37.358758],[-122.099348,37.358624],[-122.09939,37.35859],[-122.099486,37.358509],[-122.099901,37.358164],[-122.10004,37.35805],[-122.100073,37.358082],[-122.100172,37.358181],[-122.100205,37.358214],[-122.100099,37.358299],[-122.099782,37.358557],[-122.099677,37.358643],[-122.099965,37.358826],[-122.10016,37.35895],[-122.101413,37.359749],[-122.101239,37.359906],[-122.100816,37.360293],[-122.100619,37.360472],[-122.100478,37.360601],[-122.099978,37.360255],[-122.099784,37.36012],[-122.099771,37.360146],[-122.099673,37.360341],[-122.099624,37.360408],[-122.099212,37.360992],[-122.099102,37.361146],[-122.099054,37.361215],[-122.098928,37.361393],[-122.099028,37.361471],[-122.099331,37.361705],[-122.099432,37.361784],[-122.10006,37.36227],[-122.100477,37.362598],[-122.10081,37.36286],[-122.10198,37.36376],[-122.10279,37.36437],[-122.103625,37.365027],[-122.10373,37.36511],[-122.104676,37.365836],[-122.104818,37.365892],[-122.105247,37.366063],[-122.10539,37.36612],[-122.10549,37.366162],[-122.10579,37.366288],[-122.10589,37.36633],[-122.106007,37.366205],[-122.106359,37.365831],[-122.10638,37.36581],[-122.10648,37.36571],[-122.10684,37.36537],[-122.106853,37.365357],[-122.10742,37.36487],[-122.10779,37.36456],[-122.10797,37.36441],[-122.108029,37.364361],[-122.10843,37.36404],[-122.108463,37.36401],[-122.10853,37.36395],[-122.10856,37.363919],[-122.108592,37.363888],[-122.108747,37.363993],[-122.109213,37.364308],[-122.109369,37.364413],[-122.109512,37.36442],[-122.109941,37.364441],[-122.110085,37.364449],[-122.110501,37.364486],[-122.110721,37.3645184],[-122.1114033,37.3639587],[-122.1118231,37.3644504],[-122.1121394,37.3646915],[-122.112252,37.3646933],[-122.112636,37.36447],[-122.112774,37.36435],[-122.11282,37.36431]]]}}]''',
    ('Los Altos Hills', 'California'): '''[{"place_id":"179586757","licence":"Data © OpenStreetMap contributors, ODbL 1.0. http:\/\/www.openstreetmap.org\/copyright","osm_type":"relation","osm_id":"1552032","boundingbox":["37.337783","37.3992031","-122.1722386","-122.098469"],"lat":"37.3796627","lon":"-122.1374637","display_name":"Los Altos Hills, Santa Clara County, California, United States of America","class":"boundary","type":"administrative","importance":0.82155993732401,"icon":"https:\/\/nominatim.openstreetmap.org\/images\/mapicons\/poi_boundary_administrative.p.20.png","geojson":{"type":"Polygon","coordinates":[[[-122.1722386,37.3649062],[-122.1687638,37.3639635],[-122.1687903,37.3638068],[-122.1687821,37.3635401],[-122.168762,37.3633213],[-122.1687928,37.3632216],[-122.1688366,37.3631394],[-122.1689865,37.3629837],[-122.1691022,37.3628992],[-122.1694115,37.3628105],[-122.1696384,37.362803],[-122.1700622,37.3628445],[-122.1710248,37.362934],[-122.1714524,37.3629717],[-122.1716972,37.3629683],[-122.1718307,37.3629259],[-122.1719012,37.3628281],[-122.1718892,37.3627045],[-122.1718407,37.362636],[-122.1716797,37.3625486],[-122.1713449,37.362448],[-122.1707182,37.3623322],[-122.1703763,37.3622691],[-122.1700998,37.3621628],[-122.1699939,37.3620131],[-122.1699419,37.3618264],[-122.1699142,37.3615679],[-122.1697904,37.3613536],[-122.1698404,37.3611826],[-122.1699663,37.3609187],[-122.1700213,37.360855],[-122.1701137,37.3607806],[-122.16983,37.36066],[-122.16949,37.36052],[-122.16937,37.3605],[-122.16927,37.36049],[-122.16915,37.36051],[-122.169072,37.360513],[-122.16871,37.36053],[-122.16862,37.36051],[-122.16842,37.36044],[-122.16836,37.36037],[-122.1683,37.36025],[-122.16822,37.36013],[-122.1681,37.36001],[-122.16805,37.35998],[-122.16797,37.35995],[-122.1679,37.35993],[-122.16782,37.35992],[-122.1677,37.35992],[-122.16757,37.35993],[-122.16747,37.35991],[-122.16727,37.35977],[-122.16718,37.35972],[-122.16711,37.3597],[-122.16692,37.35968],[-122.16687,37.35968],[-122.1668,37.35966],[-122.16674,37.35961],[-122.16668,37.35953],[-122.16665,37.35945],[-122.1666,37.35939],[-122.16642,37.35928],[-122.166372,37.35927],[-122.16632,37.35926],[-122.16623,37.35926],[-122.16597,37.35929],[-122.16593,37.35928],[-122.16586,37.35927],[-122.16577,37.35925],[-122.16567,37.3592],[-122.16558,37.35912],[-122.16547,37.35895],[-122.16547,37.3589],[-122.16549,37.35884],[-122.16558,37.35865],[-122.16559,37.35861],[-122.16559,37.35857],[-122.16557,37.35852],[-122.16553,37.35847],[-122.16547,37.35845],[-122.16542,37.35844],[-122.16531,37.35844],[-122.165296,37.35844],[-122.16513,37.35845],[-122.16506,37.35847],[-122.16486,37.35849],[-122.16478,37.35847],[-122.16464,37.35837],[-122.16458,37.35831],[-122.16454,37.35826],[-122.1645,37.35818],[-122.16448,37.35811],[-122.16452,37.35802],[-122.16457,37.35799],[-122.16465,37.35797],[-122.16473,37.35796],[-122.1648,37.35797],[-122.16489,37.358],[-122.16498,37.35805],[-122.16509,37.3581],[-122.16518,37.35811],[-122.16527,37.3581],[-122.16547,37.35806],[-122.165587,37.358053],[-122.16564,37.35805],[-122.16578,37.35805],[-122.166323,37.357979],[-122.16562,37.35777],[-122.1655,37.35775],[-122.16534,37.35769],[-122.16501,37.35753],[-122.1647,37.35735],[-122.16433,37.35703],[-122.16428,37.35698],[-122.164101,37.356857],[-122.16409,37.35685],[-122.16399,37.35678],[-122.16167,37.35568],[-122.16144,37.35548],[-122.1611,37.35528],[-122.16087,37.35517],[-122.16068,37.35503],[-122.16052,37.3549],[-122.16039,37.35475],[-122.16027,37.35451],[-122.16013,37.35435],[-122.16004,37.35427],[-122.15995,37.35421],[-122.15987,37.35417],[-122.15977,37.35414],[-122.15964,37.35413],[-122.15957,37.35413],[-122.15944,37.35415],[-122.15916,37.35425],[-122.15886,37.3543],[-122.1587,37.35428],[-122.15853,37.35428],[-122.1581,37.35426],[-122.15772,37.35423],[-122.15757,37.35424],[-122.157417,37.354256],[-122.15738,37.35426],[-122.15709,37.35435],[-122.15694,37.35437],[-122.15684,37.35437],[-122.15681,37.35438],[-122.15667,37.35437],[-122.15651,37.35435],[-122.15598,37.35432],[-122.15528,37.35432],[-122.15491,37.35433],[-122.15473,37.35436],[-122.15453,37.3544],[-122.15442,37.35441],[-122.154343,37.354429],[-122.1543,37.35444],[-122.15424,37.35444],[-122.154199,37.354431],[-122.15414,37.35442],[-122.15407,37.3544],[-122.15391,37.35433],[-122.15357,37.35414],[-122.153553,37.354129],[-122.15331,37.35398],[-122.15302,37.35383],[-122.15276,37.35368],[-122.15254,37.35351],[-122.152316,37.353381],[-122.15221,37.35332],[-122.15188,37.35311],[-122.151717,37.35298],[-122.15153,37.35283],[-122.151495,37.35281],[-122.15118,37.35263],[-122.15081,37.35243],[-122.150758,37.352415],[-122.1507,37.3524],[-122.150497,37.352318],[-122.150493,37.352269],[-122.150483,37.352125],[-122.15048,37.352077],[-122.1507556,37.3488301],[-122.1506912,37.3459314],[-122.14188,37.345944],[-122.141578,37.349505],[-122.139572,37.349487],[-122.136676,37.349462],[-122.135974,37.347541],[-122.135711,37.348282],[-122.135582,37.348653],[-122.135197,37.349768],[-122.13507,37.35014],[-122.135015,37.350578],[-122.13497,37.35094],[-122.13497,37.3511857],[-122.13497,37.35124],[-122.135437,37.351707],[-122.13575,37.35202],[-122.134973,37.352079],[-122.134782,37.352094],[-122.13465,37.35195],[-122.134186,37.351444],[-122.133762,37.351266],[-122.133594,37.351196],[-122.133098,37.350987],[-122.133023,37.350955],[-122.132537,37.350753],[-122.132305,37.350655],[-122.131495,37.350845],[-122.131479,37.350856],[-122.130689,37.351446],[-122.129786,37.351432],[-122.130255,37.350962],[-122.130858,37.350361],[-122.131063,37.349955],[-122.131236,37.349614],[-122.132196,37.349413],[-122.132641,37.349321],[-122.132925,37.349809],[-122.132936,37.349833],[-122.133078,37.349753],[-122.135052,37.348649],[-122.1359459,37.3475352],[-122.135429,37.347839],[-122.135257,37.347836],[-122.134939,37.347833],[-122.134664,37.348152],[-122.133869,37.348312],[-122.133658,37.348223],[-122.133244,37.348047],[-122.133125,37.348136],[-122.132493,37.348615],[-122.131114,37.348669],[-122.129303,37.349416],[-122.128733,37.350806],[-122.12845,37.35076],[-122.12832,37.35073],[-122.1282,37.35068],[-122.1279,37.35062],[-122.128342,37.349998],[-122.128518,37.349752],[-122.126804,37.349717],[-122.126543,37.349793],[-122.126048,37.34994],[-122.125812,37.35001],[-122.126361,37.349308],[-122.126608,37.348972],[-122.126787,37.349008],[-122.128138,37.349286],[-122.128319,37.348412],[-122.12737,37.347797],[-122.126483,37.348402],[-122.125909,37.348794],[-122.125275,37.348736],[-122.12514,37.34865],[-122.12507,37.34866],[-122.124959,37.348677],[-122.125006,37.348764],[-122.12504,37.348826],[-122.12503,37.34885],[-122.125024,37.348865],[-122.124986,37.348986],[-122.124974,37.349027],[-122.124663,37.348957],[-122.12373,37.348749],[-122.12342,37.34868],[-122.123288,37.348487],[-122.123175,37.348322],[-122.123167,37.348247],[-122.123085,37.34783],[-122.123051,37.347658],[-122.123053,37.347601],[-122.123021,37.347598],[-122.122925,37.347589],[-122.122893,37.347586],[-122.122725,37.347555],[-122.122222,37.347463],[-122.122055,37.347433],[-122.122273,37.346898],[-122.12293,37.345294],[-122.12315,37.34476],[-122.123998,37.342761],[-122.124214,37.342253],[-122.119565,37.341425],[-122.118327,37.341354],[-122.11616,37.34123],[-122.115347,37.340611],[-122.115066,37.340397],[-122.112441,37.33972],[-122.111452,37.339465],[-122.108778,37.338945],[-122.108823,37.338779],[-122.108812,37.338698],[-122.10866,37.338408],[-122.10762,37.33889],[-122.106827,37.337863],[-122.104847,37.337783],[-122.104783,37.337961],[-122.105018,37.338215],[-122.104789,37.339157],[-122.104389,37.339557],[-122.10342,37.339209],[-122.103367,37.339318],[-122.10362,37.339636],[-122.103095,37.339836],[-122.103018,37.339781],[-122.102909,37.339895],[-122.102986,37.339964],[-122.102191,37.340982],[-122.102084,37.341125],[-122.102084,37.341126],[-122.101471,37.342032],[-122.101424,37.341862],[-122.101073,37.342141],[-122.099194,37.343786],[-122.098966,37.343931],[-122.098469,37.344242],[-122.098904,37.344884],[-122.09909,37.344884],[-122.099097,37.344896],[-122.099279,37.345149],[-122.099773,37.344849],[-122.100173,37.345541],[-122.100516,37.345988],[-122.100472,37.346144],[-122.100748,37.3463],[-122.103107,37.344468],[-122.103116,37.344465],[-122.103979,37.345307],[-122.104115,37.345438],[-122.10444,37.345755],[-122.104654,37.345964],[-122.104481,37.346078],[-122.103947,37.346433],[-122.105822,37.34806],[-122.106089,37.347823],[-122.108115,37.349548],[-122.108816,37.350144],[-122.108875,37.350195],[-122.109863,37.34945],[-122.110719,37.35004],[-122.11063,37.3501],[-122.11049,37.35024],[-122.110467,37.350272],[-122.11032,37.35048],[-122.11001,37.35099],[-122.109924,37.351152],[-122.10982,37.35135],[-122.10975,37.35145],[-122.10973,37.35148],[-122.10954,37.35163],[-122.10903,37.35192],[-122.10892,37.351986],[-122.10845,37.35227],[-122.10791,37.35263],[-122.10784,37.35268],[-122.107825,37.352688],[-122.10779,37.35271],[-122.10756,37.35283],[-122.107552,37.352833],[-122.10746,37.35288],[-122.107348,37.352937],[-122.10723,37.353],[-122.107014,37.353107],[-122.106902,37.353164],[-122.106871,37.353179],[-122.10678,37.353224],[-122.10675,37.35324],[-122.106632,37.3533],[-122.106278,37.35348],[-122.10616,37.35354],[-122.105911,37.353685],[-122.10517,37.35412],[-122.105166,37.354121],[-122.10492,37.35427],[-122.104898,37.354282],[-122.104834,37.35432],[-122.104813,37.354334],[-122.104762,37.354363],[-122.104612,37.354452],[-122.104563,37.354483],[-122.10445,37.35455],[-122.104325,37.354622],[-122.10416,37.35472],[-122.10366,37.35506],[-122.103637,37.355079],[-122.10343,37.35526],[-122.103426,37.355262],[-122.10335,37.35532],[-122.103164,37.355471],[-122.10313,37.3555],[-122.102613,37.355935],[-122.10243,37.35609],[-122.102609,37.356246],[-122.102681,37.356309],[-122.10283,37.35644],[-122.10302,37.35659],[-122.10325,37.35678],[-122.103462,37.356939],[-122.10373,37.35714],[-122.10385,37.35723],[-122.1042,37.35747],[-122.104224,37.357487],[-122.10437,37.35759],[-122.10453,37.3577],[-122.10495,37.35806],[-122.10532,37.35842],[-122.105595,37.358671],[-122.10577,37.35883],[-122.10586,37.35893],[-122.10604,37.35908],[-122.106084,37.359117],[-122.106216,37.359231],[-122.10626,37.35927],[-122.106525,37.359492],[-122.10732,37.36016],[-122.107321,37.360161],[-122.10759,37.36038],[-122.107633,37.360418],[-122.10769,37.36047],[-122.107774,37.360517],[-122.107825,37.360546],[-122.107946,37.360615],[-122.10806,37.36068],[-122.108316,37.360814],[-122.10844,37.36088],[-122.108607,37.360978],[-122.10861,37.36098],[-122.109106,37.361284],[-122.10923,37.36136],[-122.10927,37.36139],[-122.109271,37.361387],[-122.1093,37.361409],[-122.10931,37.36141],[-122.109657,37.361613],[-122.10996,37.36179],[-122.11035,37.362],[-122.11055,37.3621],[-122.110724,37.362175],[-122.11078,37.3622],[-122.1111,37.36232],[-122.11114,37.36233],[-122.111198,37.362363],[-122.11128,37.36241],[-122.11144,37.36253],[-122.111461,37.362555],[-122.11153,37.36264],[-122.11173,37.36288],[-122.111795,37.362968],[-122.112546,37.363989],[-122.11268,37.36417],[-122.11282,37.36431],[-122.11327,37.364748],[-122.11335,37.364765],[-122.114277,37.365209],[-122.114316,37.365228],[-122.11436,37.36525],[-122.11444,37.365269],[-122.114483,37.36528],[-122.114517,37.365288],[-122.114619,37.365313],[-122.114654,37.365322],[-122.114828,37.365381],[-122.115353,37.36556],[-122.11538,37.36557],[-122.1154572,37.3656086],[-122.11552,37.36564],[-122.115679,37.365459],[-122.116157,37.364917],[-122.11619,37.36488],[-122.11633,37.36475],[-122.116397,37.364786],[-122.11646,37.36482],[-122.116593,37.364907],[-122.116658,37.364949],[-122.116717,37.364987],[-122.116897,37.365103],[-122.116957,37.365142],[-122.117115,37.365244],[-122.11717,37.36528],[-122.117598,37.365538],[-122.117714,37.365609],[-122.117674,37.36554],[-122.11778,37.365648],[-122.1178,37.36566],[-122.117863,37.365717],[-122.11814,37.36597],[-122.118155,37.365988],[-122.11824,37.36609],[-122.11832,37.36618],[-122.11841,37.36625],[-122.118412,37.366251],[-122.1185,37.36629],[-122.11864,37.36632],[-122.11887,37.36633],[-122.119112,37.36633],[-122.11935,37.36633],[-122.11939,37.36632],[-122.119733,37.36632],[-122.11987,37.36632],[-122.12024,37.36628],[-122.12048,37.36624],[-122.120875,37.366159],[-122.12107,37.36612],[-122.121252,37.366078],[-122.121716,37.367608],[-122.12207,37.368774],[-122.1235,37.368856],[-122.122475,37.369541],[-122.121801,37.370088],[-122.121778,37.37013],[-122.121074,37.37144],[-122.121,37.371525],[-122.120765,37.37184],[-122.120432,37.37229],[-122.120067,37.37192],[-122.119991,37.371985],[-122.119696,37.372245],[-122.119611,37.372308],[-122.119358,37.372501],[-122.119274,37.372565],[-122.119591,37.372792],[-122.120542,37.373474],[-122.12062,37.37353],[-122.12074,37.3738],[-122.120536,37.373848],[-122.119928,37.373993],[-122.119725,37.374042],[-122.119743,37.374116],[-122.11973,37.374221],[-122.11975,37.374446],[-122.119723,37.37455],[-122.119709,37.374649],[-122.119711,37.374669],[-122.119723,37.374776],[-122.119794,37.374939],[-122.119801,37.375049],[-122.119836,37.375186],[-122.11985,37.375269],[-122.119836,37.375417],[-122.119726,37.375686],[-122.119671,37.37578],[-122.119643,37.375879],[-122.119671,37.376049],[-122.119726,37.376153],[-122.119726,37.376269],[-122.11974,37.376368],[-122.119814,37.376474],[-122.119878,37.376565],[-122.119899,37.376769],[-122.119892,37.377043],[-122.119899,37.377088],[-122.119915,37.377084],[-122.119963,37.377073],[-122.11998,37.37707],[-122.120106,37.377064],[-122.120487,37.377048],[-122.120614,37.377043],[-122.120486,37.377365],[-122.120477,37.37739],[-122.120392,37.377604],[-122.120393,37.377869],[-122.120473,37.378051],[-122.120592,37.378266],[-122.120529,37.378307],[-122.12024,37.3785],[-122.120327,37.378532],[-122.120403,37.378631],[-122.120472,37.37873],[-122.120706,37.378911],[-122.120837,37.378971],[-122.120897,37.378983],[-122.121002,37.379004],[-122.121222,37.379015],[-122.121381,37.379021],[-122.121505,37.379042],[-122.12158,37.379081],[-122.121649,37.379136],[-122.121774,37.379284],[-122.121822,37.379306],[-122.12187,37.379345],[-122.122001,37.379416],[-122.122125,37.37946],[-122.122263,37.37952],[-122.122338,37.379537],[-122.122552,37.37963],[-122.122628,37.379679],[-122.12271,37.379723],[-122.122807,37.379756],[-122.122972,37.379778],[-122.123096,37.379811],[-122.123195,37.379842],[-122.123199,37.379844],[-122.123371,37.37991],[-122.123495,37.379981],[-122.123557,37.380052],[-122.123626,37.380151],[-122.123647,37.380272],[-122.123654,37.380388],[-122.123654,37.380443],[-122.123351,37.380526],[-122.122773,37.380686],[-122.122853,37.380971],[-122.122871,37.381013],[-122.123,37.3813],[-122.123274,37.381395],[-122.123531,37.381484],[-122.124127,37.381554],[-122.124262,37.381571],[-122.124375,37.381465],[-122.125159,37.382958],[-122.125426,37.38298],[-122.125426,37.383024],[-122.125446,37.383123],[-122.125481,37.383194],[-122.125543,37.383299],[-122.125577,37.38337],[-122.125564,37.383458],[-122.125536,37.383489],[-122.125516,37.383513],[-122.125426,37.383579],[-122.125227,37.383629],[-122.125171,37.383634],[-122.125154,37.383646],[-122.125123,37.383651],[-122.124999,37.383684],[-122.124834,37.383717],[-122.124669,37.383761],[-122.124552,37.383838],[-122.124456,37.383942],[-122.124339,37.384145],[-122.12427,37.384359],[-122.124201,37.38458],[-122.1240652,37.3849064],[-122.126631,37.388076],[-122.12692,37.38847],[-122.127017,37.388619],[-122.127221,37.388935],[-122.12727,37.38901],[-122.127551,37.389471],[-122.1276,37.38955],[-122.127667,37.389646],[-122.12839,37.39069],[-122.12874,37.39126],[-122.13027,37.3934448],[-122.13306,37.3934715],[-122.13307,37.39266],[-122.133069,37.392658],[-122.13284,37.39235],[-122.13265,37.39211],[-122.132634,37.392087],[-122.13263,37.39208],[-122.13221,37.39154],[-122.13214,37.39146],[-122.13209,37.39131],[-122.132085,37.391266],[-122.13208,37.39121],[-122.13212,37.39107],[-122.1321848,37.3906655],[-122.1352432,37.3906581],[-122.1347686,37.39108],[-122.1363784,37.3923917],[-122.136317,37.391324],[-122.1363588,37.3895866],[-122.1351009,37.3895265],[-122.1351433,37.3885067],[-122.1363329,37.3885591],[-122.1369219,37.3890418],[-122.138145,37.3890478],[-122.138167,37.3896224],[-122.138792,37.3896619],[-122.1388061,37.3910517],[-122.140254,37.3909657],[-122.140507,37.392221],[-122.1405578,37.392492],[-122.1406435,37.3929258],[-122.1410179,37.3940456],[-122.1407936,37.3941049],[-122.1408372,37.3949431],[-122.1413116,37.3952352],[-122.1431446,37.3942707],[-122.1434,37.39442],[-122.143564,37.39434],[-122.1437013,37.3942374],[-122.1456472,37.3935532],[-122.148449,37.392605],[-122.14856,37.39257],[-122.148925,37.392442],[-122.14922,37.39234],[-122.14975,37.39215],[-122.14995,37.39205],[-122.149997,37.392005],[-122.15011,37.3919],[-122.150298,37.391763],[-122.15044,37.39166],[-122.150526,37.391573],[-122.15063,37.39147],[-122.15081,37.39121],[-122.15094,37.39092],[-122.150972,37.390814],[-122.15106,37.39053],[-122.15121,37.38997],[-122.151215,37.389946],[-122.1515,37.38874],[-122.15157,37.38838],[-122.15163,37.38821],[-122.151641,37.388189],[-122.15171,37.38806],[-122.15189,37.38764],[-122.151965,37.387489],[-122.15202,37.38738],[-122.15214,37.38722],[-122.152279,37.387105],[-122.15241,37.387],[-122.15254,37.38691],[-122.152656,37.386874],[-122.15267,37.38687],[-122.152738,37.386834],[-122.1532,37.38659],[-122.15339,37.38651],[-122.153408,37.386504],[-122.15353,37.38647],[-122.15355,37.38646],[-122.15368,37.38644],[-122.15376,37.38643],[-122.15391,37.38642],[-122.15404,37.38643],[-122.1542,37.38647],[-122.15438,37.38654],[-122.154399,37.386552],[-122.15459,37.38667],[-122.15483,37.38683],[-122.15495,37.38689],[-122.15528,37.38711],[-122.15571,37.38736],[-122.15625,37.38759],[-122.156345,37.387617],[-122.15706,37.38782],[-122.15804,37.38803],[-122.158404,37.388106],[-122.15909,37.38825],[-122.15962,37.38832],[-122.16042,37.38839],[-122.16155,37.38848],[-122.16206,37.38846],[-122.16234,37.38842],[-122.162489,37.388367],[-122.16311,37.38815],[-122.16324,37.38812],[-122.16341,37.38812],[-122.16367,37.38816],[-122.16375,37.38816],[-122.16382,37.38817],[-122.16381,37.388207],[-122.163783,37.388321],[-122.163774,37.388359],[-122.163767,37.388384],[-122.163749,37.388461],[-122.163744,37.388487],[-122.163701,37.38866],[-122.16368,37.38875],[-122.163594,37.389184],[-122.16356,37.38936],[-122.16355,37.38942],[-122.163543,37.38946],[-122.163526,37.38958],[-122.16352,37.38962],[-122.163504,37.389704],[-122.16348,37.38983],[-122.163456,37.389956],[-122.16344,37.39004],[-122.16342,37.390146],[-122.16342,37.39015],[-122.163342,37.390461],[-122.163317,37.390566],[-122.163307,37.390602],[-122.163281,37.39071],[-122.163273,37.390747],[-122.163224,37.390941],[-122.16322,37.39096],[-122.16317,37.39113],[-122.163076,37.391524],[-122.16303,37.39172],[-122.16296,37.39199],[-122.162871,37.392317],[-122.1628,37.39258],[-122.16264,37.39289],[-122.16244,37.39319],[-122.162415,37.393216],[-122.16228,37.39336],[-122.16217,37.39345],[-122.16226,37.39351],[-122.162269,37.393515],[-122.16236,37.39357],[-122.1624834,37.3936579],[-122.162466,37.393746],[-122.162439,37.393862],[-122.16242,37.393936],[-122.16242,37.39394],[-122.162418,37.393954],[-122.162395,37.394163],[-122.1622155,37.3959203],[-122.1651289,37.3984792],[-122.1672191,37.3992031],[-122.1676821,37.3973901],[-122.1680473,37.3956488],[-122.1685123,37.3937731],[-122.168895,37.3917631],[-122.1697576,37.3886688],[-122.1704868,37.3857383],[-122.1721811,37.3792529],[-122.1697794,37.3788484],[-122.1676871,37.3784435],[-122.1684735,37.3761298],[-122.1705504,37.3700265],[-122.1722386,37.3649062]]]}}]''',
    }

#@httmock.all_requests
@httmock.urlmatch(netloc=r'nominatim\.openstreetmap\.org$')
def response_content(url, request):
    '''
    '''
    query_dict = dict(urllib.parse.parse_qsl(url.query)) if url.query else {}
    
    if (url.netloc, url.path) == ('nominatim.openstreetmap.org', '/search'):
        q, city, state = [query_dict.get(k) for k in ('q', 'city', 'state')]
        for key in [q, (city, state)]:
            if key in NOMINATIM_Searches:
                return httmock.response(200, NOMINATIM_Searches[key])

        raise ValueError('Unknown Nominatim query: {}'.format(url.query))
    
    raise Exception(url)


def test_imports():

    import json, math, sys, os, io, ast, unicodedata, hashlib, re, random, time, warnings, datetime as dt, logging as lg
    from collections import OrderedDict, Counter
    from itertools import groupby, chain
    from dateutil import parser as date_parser
    import requests, numpy as np, pandas as pd, geopandas as gpd, networkx as nx, matplotlib.pyplot as plt, matplotlib.cm as cm
    from matplotlib.collections import LineCollection
    from shapely.geometry import Point, LineString, Polygon, MultiPolygon
    from shapely import wkt
    from shapely.ops import unary_union
    from descartes import PolygonPatch
    from rtree.index import Index as RTreeIndex


def test_gdf_shapefiles():

    with httmock.HTTMock(response_content):
        city = ox.gdf_from_place('Manhattan, New York City, New York, USA')
    city_projected = ox.project_gdf(city, to_crs={'init':'epsg:3395'})
    ox.save_gdf_shapefile(city_projected)

    with httmock.HTTMock(response_content):
        city = ox.gdf_from_place('Manhattan, New York City, New York, USA', buffer_dist=100)
    ox.plot_shape(city)


def test_graph_from_file():
    
    node_id = 53098262
    neighbor_ids = 53092170, 53060438, 53027353, 667744075

    with bz2.BZ2File('tests/input_data/West-Oakland.osm.bz2') as input:
        handle, temp_filename = tempfile.mkstemp(suffix='.osm')
        os.write(handle, input.read())
        os.close(handle)

    for filename in ('tests/input_data/West-Oakland.osm.bz2', temp_filename):
        G = ox.graph_from_file(filename)
        assert node_id in G.nodes

        for neighbor_id in neighbor_ids:
            edge_key = (node_id, neighbor_id, 0)
            assert neighbor_id in G.nodes
            assert edge_key in G.edges
            assert G.edges[edge_key]['name'] in ('8th Street', 'Willow Street')

    os.remove(temp_filename)


def test_network_saving_loading():

    with httmock.HTTMock(response_content):
        G = ox.graph_from_place('Piedmont, California, USA')
    G_projected = ox.project_graph(G)
    ox.save_graph_shapefile(G_projected)
    ox.save_graphml(G_projected)
    G2 = ox.load_graphml('graph.graphml')

    gdf_edges = ox.graph_to_gdfs(G, nodes=False, edges=True, fill_edge_geometry=False)
    gdf_nodes, gdf_edges = ox.graph_to_gdfs(G, nodes=True, edges=True, node_geometry=True, fill_edge_geometry=True)
    G3 = ox.gdfs_to_graph(gdf_nodes, gdf_edges)


def test_get_network_methods():

    import geopandas as gpd
    north, south, east, west = 37.79, 37.78, -122.41, -122.43
    with httmock.HTTMock(response_content):
        G1 = ox.graph_from_bbox(north, south, east, west, network_type='drive_service')
        G1 = ox.graph_from_bbox(north, south, east, west, network_type='drive_service', truncate_by_edge=True)

    location_point = (37.791427, -122.410018)
    bbox = ox.bbox_from_point(location_point, project_utm=True)
    with httmock.HTTMock(response_content):
        G2 = ox.graph_from_point(location_point, distance=750, distance_type='bbox', network_type='drive')
        G3 = ox.graph_from_point(location_point, distance=500, distance_type='network')

    with httmock.HTTMock(response_content):
        G4 = ox.graph_from_address(address='350 5th Ave, New York, NY', distance=1000, distance_type='network', network_type='bike')

    places = ['Los Altos, California, USA', {'city':'Los Altos Hills', 'state':'California'}, 'Loyola, California']
    with httmock.HTTMock(response_content):
        G5 = ox.graph_from_place(places, network_type='all', clean_periphery=False)

    calif = gpd.read_file('tests/input_data/ZillowNeighborhoods-CA')
    mission_district = calif[(calif['CITY']=='San Francisco') & (calif['NAME']=='Mission')]
    polygon = mission_district['geometry'].iloc[0]
    with httmock.HTTMock(response_content):
        G6 = ox.graph_from_polygon(polygon, network_type='walk')


def test_stats():

    location_point = (37.791427, -122.410018)
    with httmock.HTTMock(response_content):
        G = ox.graph_from_point(location_point, distance=500, distance_type='network')
    G = ox.add_edge_bearings(G)
    G_proj = ox.project_graph(G)
    stats1 = ox.basic_stats(G)
    stats2 = ox.basic_stats(G, area=1000)
    stats3 = ox.basic_stats(G_proj, area=1000, clean_intersects=True, tolerance=15, circuity_dist='euclidean')
    stats4 = ox.extended_stats(G, connectivity=True, anc=True, ecc=True, bc=True, cc=True)


def test_plots():

    with httmock.HTTMock(response_content):
        G = ox.graph_from_place('Piedmont, California, USA', network_type='drive', simplify=False)
    G2 = ox.simplify_graph(G, strict=False)
    nc = ox.get_node_colors_by_attr(G2, 'osmid')
    ec = ox.get_edge_colors_by_attr(G2, 'length')

    fig, ax = ox.plot_graph(G, save=True, file_format='png')

    G_simplified = ox.simplify_graph(G)
    fig, ax = ox.plot_graph(G_simplified, show=False, save=True, close=True, file_format='svg')

    G_projected = ox.project_graph(G_simplified)
    fig, ax = ox.plot_graph(G_projected)

    fig, ax = ox.plot_graph(G_projected, fig_height=5, fig_width=5, margin=0.05, axis_off=False, bgcolor='y',
                            file_format='png', filename='x', dpi=180, annotate=True, node_color='k', node_size=5,
                            node_alpha=0.1, node_edgecolor='b', node_zorder=5, edge_color='r', edge_linewidth=2,
                            edge_alpha=0.1, use_geom=False, show=False, save=True, close=True)

    fig, ax = ox.plot_figure_ground(G=G_simplified, file_format='png')
    fig, ax = ox.plot_figure_ground(point=(33.694981, -117.841375), file_format='png')
    fig, ax = ox.plot_figure_ground(address='Denver, Colorado, USA', file_format='png')


def test_routing_folium():

    import networkx as nx
    with httmock.HTTMock(response_content):
        G = ox.graph_from_address('398 N. Sicily Pl., Chandler, Arizona', distance=800, network_type='drive')
    origin = (33.307792, -111.894940)
    destination = (33.312994, -111.894998)
    origin_node = ox.get_nearest_node(G, origin)
    destination_node = ox.get_nearest_node(G, destination)
    route = nx.shortest_path(G, origin_node, destination_node)

    attributes = ox.get_route_edge_attributes(G, route, 'length')

    fig, ax = ox.plot_graph_route(G, route, save=True, filename='route', file_format='png')
    fig, ax = ox.plot_graph_route(G, route, origin_point=origin, destination_point=destination,
                                  save=True, filename='route', file_format='png')

    graph_map = ox.plot_graph_folium(G, popup_attribute='name')
    route_map = ox.plot_route_folium(G, route)


def test_buildings():

    with httmock.HTTMock(response_content):
        gdf = ox.buildings_from_place(place='Piedmont, California, USA')
        gdf = ox.buildings_from_address(address='San Francisco, California, USA', distance=300)
    fig, ax = ox.plot_buildings(gdf)
